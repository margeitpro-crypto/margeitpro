import{r as n,j as e}from"./ui-Cg0tFRDi.js";import{a as q,g as B,w as L,f as z,b as H,s as _,x as G,y as V,z as Q,m as W,t as Y,A as J,B as K,C as X,n as Z,o as ee,D as te,E as ae}from"./index-DTZyYScH.js";import"./vendor-Bzgz95E1.js";import"./firebase-DCRhkHpN.js";const se=[...q.items,...B.items],re=({template:i,onSave:u,onCancel:h,isSubmitting:b})=>{const[a,g]=n.useState({name:"",id:"",type:"Slides",plan:"Free",description:"",imageUrl:"",imageUrl2:"",sheetUrl:"",...i}),[t,p]=n.useState({});n.useEffect(()=>{const c={name:"",id:"",type:"Slides",plan:"Free",description:"",imageUrl:"",imageUrl2:"",sheetUrl:"",...i};g(c),p({})},[i]);const s=c=>{const{name:l,value:o}=c.target;g(y=>({...y,[l]:o})),t[l]&&p(y=>({...y,[l]:""}))},d=()=>{var l,o,y;const c={};return(l=a.name)!=null&&l.trim()||(c.name="Template name is required"),(o=a.id)!=null&&o.trim()||(c.id="Template ID is required"),(y=a.description)!=null&&y.trim()||(c.description="Description is required"),a.imageUrl&&!a.imageUrl.match(/^https?:\/\/.+/)&&(c.imageUrl="Invalid URL format"),a.imageUrl2&&!a.imageUrl2.match(/^https?:\/\/.+/)&&(c.imageUrl2="Invalid URL format"),a.sheetUrl&&!a.sheetUrl.match(/^https?:\/\/.+/)&&(c.sheetUrl="Invalid URL format"),p(c),Object.keys(c).length===0},x=c=>{c.preventDefault(),d()&&u(a)},f=()=>{g({name:"",id:"",type:"Slides",plan:"Free",description:"",imageUrl:"",imageUrl2:"",sheetUrl:"",...i}),p({})};return e.jsx("div",{className:"card w-full max-w-lg",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i!=null&&i.id?"Edit Template":"Add New Template"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium mb-1",children:"Template Name *"}),e.jsx("input",{id:"template-name",type:"text",name:"name",value:a.name,onChange:s,className:`w-full p-2 border rounded ${t.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.name?"name-error":void 0}),t.name&&e.jsx("p",{id:"name-error",className:"text-xs text-red-500 mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"template-id",className:"block text-sm font-medium mb-1",children:"Template ID *"}),e.jsx("input",{id:"template-id",type:"text",name:"id",value:a.id,onChange:s,className:`w-full p-2 border rounded ${t.id?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,disabled:!!(i!=null&&i.id),"aria-describedby":t.id?"id-error":void 0}),t.id&&e.jsx("p",{id:"id-error",className:"text-xs text-red-500 mt-1",children:t.id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"template-type",className:"block text-sm font-medium mb-1",children:"Type"}),e.jsxs("select",{id:"template-type",name:"type",value:a.type,onChange:s,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded",children:[e.jsx("option",{children:"Slides"}),e.jsx("option",{children:"Docs"}),e.jsx("option",{children:"Sheet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"template-plan",className:"block text-sm font-medium mb-1",children:"Plan"}),e.jsxs("select",{id:"template-plan",name:"plan",value:a.plan,onChange:s,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded",children:[e.jsx("option",{children:"Free"}),e.jsx("option",{children:"Pro"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"template-description",className:"block text-sm font-medium mb-1",children:"Description *"}),e.jsx("textarea",{id:"template-description",name:"description",value:a.description,onChange:s,className:`w-full p-2 border rounded h-20 resize-none ${t.description?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.description?"description-error":void 0}),t.description&&e.jsx("p",{id:"description-error",className:"text-xs text-red-500 mt-1",children:t.description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"template-image-url",className:"block text-sm font-medium mb-1",children:"Image URL"}),e.jsx("input",{id:"template-image-url",type:"url",name:"imageUrl",value:a.imageUrl,onChange:s,placeholder:"https://drive.google.com/file/d/.../view or direct image URL",className:`w-full p-2 border rounded ${t.imageUrl?"border-red-500":"border-gray-300 dark:border-gray-600"}`,"aria-describedby":t.imageUrl?"image-url-error":"image-url-help"}),t.imageUrl?e.jsx("p",{id:"image-url-error",className:"text-xs text-red-500 mt-1",children:t.imageUrl}):e.jsx("p",{id:"image-url-help",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Google Drive sharing links will be automatically converted for preview"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"template-image-url2",className:"block text-sm font-medium mb-1",children:"Second Image URL (Optional)"}),e.jsx("input",{id:"template-image-url2",type:"url",name:"imageUrl2",value:a.imageUrl2,onChange:s,placeholder:"https://drive.google.com/file/d/.../view or direct image URL",className:`w-full p-2 border rounded ${t.imageUrl2?"border-red-500":"border-gray-300 dark:border-gray-600"}`,"aria-describedby":t.imageUrl2?"image-url2-error":"image-url2-help"}),t.imageUrl2?e.jsx("p",{id:"image-url2-error",className:"text-xs text-red-500 mt-1",children:t.imageUrl2}):e.jsx("p",{id:"image-url2-help",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional second image for template preview"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"template-sheet-url",className:"block text-sm font-medium mb-1",children:"Google Sheet URL (Optional)"}),e.jsx("input",{id:"template-sheet-url",type:"url",name:"sheetUrl",value:a.sheetUrl,onChange:s,placeholder:"https://docs.google.com/spreadsheets/d/.../edit",className:`w-full p-2 border rounded ${t.sheetUrl?"border-red-500":"border-gray-300 dark:border-gray-600"}`,"aria-describedby":t.sheetUrl?"sheet-url-error":"sheet-url-help"}),t.sheetUrl?e.jsx("p",{id:"sheet-url-error",className:"text-xs text-red-500 mt-1",children:t.sheetUrl}):e.jsx("p",{id:"sheet-url-help",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Optional Google Sheet URL for data source"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 flex justify-between items-center rounded-b-xl",children:[e.jsx("button",{type:"button",onClick:f,className:"btn btn-secondary",disabled:b,title:"Reset form to initial values",children:"Reset"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",disabled:b,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Saving..."]}):"Save Template"})]})]})]})})},le=({setModal:i})=>{const[u,h]=n.useState([]),[b,a]=n.useState(!0),[g,t]=n.useState(!1),[p,s]=n.useState(!1),[d,x]=n.useState(null),f=async()=>{a(!0);try{const j=await Z();h(j)}catch(j){console.error(j)}finally{a(!1)}};n.useEffect(()=>{f()},[]);const c=()=>{x({}),t(!0)},l=j=>{x(j),t(!0)},o=()=>{t(!1),x(null)},y=async j=>{s(!0);try{let N={...j};console.log("Saving template with data:",N),d!=null&&d.id?(console.log("Updating existing template:",d.id),await te(d.id,N),console.log("Template updated successfully")):(console.log("Adding new template"),await ae(N),console.log("Template added successfully")),await f(),console.log("Data refetched after save")}catch(N){console.error("Error saving template:",N),alert(`Error: ${N.message}`)}finally{s(!1),o()}},k=j=>{i({type:"confirmation",props:{title:"Delete Template",message:`Are you sure you want to delete the template <strong>${j.name}</strong>? This action cannot be undone.`,onConfirm:async()=>{try{await ee(j.id),await f()}catch(N){alert(`Error: ${N.message}`)}i({type:null,props:{}})}}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Manage Templates"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add, edit, or delete templates."})]}),e.jsxs("button",{onClick:c,className:"btn btn-primary",children:[e.jsx("span",{className:"material-icons-outlined",children:"add"})," New Template"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",role:"table","aria-label":"Templates management table",children:[e.jsx("thead",{className:"border-b border-inherit text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"SN"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Name"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Type"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Plan"}),e.jsx("th",{className:"py-2 px-3 font-semibold text-right",scope:"col",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm",children:b?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6",children:e.jsx("div",{className:"spinner mx-auto","aria-label":"Loading templates"})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No templates found"})}):u.map((j,N)=>e.jsxs("tr",{className:"border-b border-inherit last:border-b-0 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:N+1}),e.jsx("td",{className:"py-3 px-3 font-medium",children:j.name}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:j.type}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:j.plan}),e.jsxs("td",{className:"py-3 px-3 text-right",children:[e.jsx("button",{onClick:()=>l(j),className:"material-icons-outlined p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",title:"Edit template","aria-label":`Edit ${j.name}`,children:"edit"}),e.jsx("button",{onClick:()=>k(j),className:"material-icons-outlined p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete template","aria-label":`Delete ${j.name}`,children:"delete"})]})]},j.id))})]})}),g&&e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0",onClick:o}),e.jsx("div",{className:"relative z-10",children:e.jsx(re,{template:d,onSave:y,onCancel:o,isSubmitting:p})})]})]})},ie=({plan:i,onSave:u,onCancel:h,isSubmitting:b})=>{const[a,g]=n.useState(()=>{const{features:l,...o}=i||{};return{name:"",price:"",pricePeriod:"/ mo",buttonText:"Get Started",isActive:!0,currency:"USD",order:0,...o,features:Array.isArray(l)?l.join(`
`):""}}),[t,p]=n.useState({});n.useEffect(()=>{const{features:l,...o}=i||{};g({name:"",price:"",pricePeriod:"/ mo",buttonText:"Get Started",isActive:!0,currency:"USD",order:0,...o,features:Array.isArray(l)?l.join(`
`):""}),p({})},[i]);const s=l=>{const{name:o,value:y}=l.target;g(k=>({...k,[o]:y})),t[o]&&p(k=>({...k,[o]:""}))},d=l=>{g(o=>({...o,[l.target.name]:l.target.checked}))},x=()=>{var o,y,k,j;const l={};return(o=a.name)!=null&&o.trim()||(l.name="Plan name is required"),(y=a.price)!=null&&y.toString().trim()||(l.price="Price is required"),(k=a.buttonText)!=null&&k.trim()||(l.buttonText="Button text is required"),(j=a.features)!=null&&j.trim()||(l.features="At least one feature is required"),a.order&&(isNaN(Number(a.order))||Number(a.order)<1)&&(l.order="Order must be a positive number"),p(l),Object.keys(l).length===0},f=l=>{l.preventDefault(),x()&&u({...a,features:a.features.split(`
`).filter(o=>o.trim())})},c=()=>{const{features:l,...o}=i||{};g({name:"",price:"",pricePeriod:"/ mo",buttonText:"Get Started",isActive:!0,currency:"USD",order:0,...o,features:Array.isArray(l)?l.join(`
`):""}),p({})};return e.jsx("div",{className:"card w-full max-w-lg",children:e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i!=null&&i.id?"Edit Plan":"Add New Plan"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-name",className:"block text-sm font-medium mb-1",children:"Plan Name *"}),e.jsx("input",{id:"billing-name",type:"text",name:"name",value:a.name,onChange:s,placeholder:"e.g., Pro Plan",className:`w-full p-2 border rounded ${t.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.name?"billing-name-error":void 0}),t.name&&e.jsx("p",{id:"billing-name-error",className:"text-xs text-red-500 mt-1",children:t.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-price",className:"block text-sm font-medium mb-1",children:"Price *"}),e.jsx("input",{id:"billing-price",type:"text",name:"price",value:a.price,onChange:s,placeholder:"e.g., 15 or 'Contact Us'",className:`w-full p-2 border rounded ${t.price?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.price?"billing-price-error":void 0}),t.price&&e.jsx("p",{id:"billing-price-error",className:"text-xs text-red-500 mt-1",children:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-currency",className:"block text-sm font-medium mb-1",children:"Currency"}),e.jsxs("select",{id:"billing-currency",name:"currency",value:a.currency||"USD",onChange:s,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"NPR",children:"NPR (रू)"}),e.jsx("option",{value:"INR",children:"INR (₹)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-price-period",className:"block text-sm font-medium mb-1",children:"Price Period"}),e.jsx("input",{id:"billing-price-period",type:"text",name:"pricePeriod",value:a.pricePeriod,onChange:s,placeholder:"e.g., / mo",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-button-text",className:"block text-sm font-medium mb-1",children:"Button Text *"}),e.jsx("input",{id:"billing-button-text",type:"text",name:"buttonText",value:a.buttonText,onChange:s,placeholder:"e.g., Get Started",className:`w-full p-2 border rounded ${t.buttonText?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.buttonText?"billing-button-text-error":void 0}),t.buttonText&&e.jsx("p",{id:"billing-button-text-error",className:"text-xs text-red-500 mt-1",children:t.buttonText})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-order",className:"block text-sm font-medium mb-1",children:"Display Order"}),e.jsx("input",{id:"billing-order",type:"number",name:"order",value:a.order||"",onChange:s,placeholder:"e.g., 1",className:`w-full p-2 border rounded ${t.order?"border-red-500":"border-gray-300 dark:border-gray-600"}`,min:"1","aria-describedby":t.order?"billing-order-error":"billing-order-help"}),t.order?e.jsx("p",{id:"billing-order-error",className:"text-xs text-red-500 mt-1",children:t.order}):e.jsx("p",{id:"billing-order-help",className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Lower numbers appear first on homepage"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"billing-features",className:"block text-sm font-medium mb-1",children:"Features (one per line) *"}),e.jsx("textarea",{id:"billing-features",name:"features",value:a.features,onChange:s,placeholder:`- Unlimited merges
- Priority support`,className:`w-full p-2 border rounded h-24 resize-none ${t.features?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.features?"billing-features-error":void 0}),t.features&&e.jsx("p",{id:"billing-features-error",className:"text-xs text-red-500 mt-1",children:t.features})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"billing-is-active",type:"checkbox",name:"isActive",checked:a.isActive,onChange:d,className:"h-4 w-4"}),e.jsx("label",{htmlFor:"billing-is-active",className:"text-sm font-medium",children:"Active (Show on homepage)"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 flex justify-between items-center rounded-b-xl",children:[e.jsx("button",{type:"button",onClick:c,className:"btn btn-secondary",disabled:b,title:"Reset form to initial values",children:"Reset"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",disabled:b,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Saving..."]}):"Save Plan"})]})]})]})})},ne=({setModal:i})=>{const[u,h]=n.useState([]),[b,a]=n.useState(!0),[g,t]=n.useState(!1),[p,s]=n.useState(!1),[d,x]=n.useState(null),[f,c]=n.useState([]),[l,o]=n.useState(!1),y=async()=>{a(!0);try{const r=await Y();h(r)}catch(r){console.error(r)}finally{a(!1)}},k=async()=>{o(!0);try{const r=await J();c(r)}catch(r){console.error("Error fetching payment history:",r)}finally{o(!1)}};n.useEffect(()=>{y(),k()},[]);const j=()=>{x({}),t(!0)},N=r=>{x(r),t(!0)},S=()=>{t(!1),x(null)},C=async r=>{s(!0);try{const v={...r,price:isNaN(Number(r.price))?r.price:Number(r.price)};d!=null&&d.id?await L(d.id,v):await X(v),await y()}catch(v){alert(`Error: ${v.message}`)}finally{s(!1),S()}},P=r=>{i({type:"confirmation",props:{title:"Delete Plan",message:`Are you sure you want to delete the billing plan <strong>${r.name}</strong>? This action cannot be undone.`,onConfirm:async()=>{try{await K(r.id),await y()}catch(v){alert(`Error: ${v.message}`)}i({type:null,props:{}})}}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Manage Billing Plans"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add, edit, or delete subscription plans."})]}),e.jsxs("button",{onClick:j,className:"btn btn-primary",children:[e.jsx("span",{className:"material-icons-outlined",children:"add"})," New Plan"]})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left",role:"table","aria-label":"Billing plans management table",children:[e.jsx("thead",{className:"border-b border-inherit text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"SN"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Order"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Name"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Price"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Status"}),e.jsx("th",{className:"py-2 px-3 font-semibold text-right",scope:"col",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm",children:b?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-6",children:e.jsx("div",{className:"spinner mx-auto","aria-label":"Loading billing plans"})})}):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No billing plans found"})}):u.map((r,v)=>e.jsxs("tr",{className:"border-b border-inherit last:border-b-0 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:v+1}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:r.order||"-"}),e.jsx("td",{className:"py-3 px-3 font-medium",children:r.name}),e.jsxs("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:[typeof r.price=="number"?`${r.currency==="NPR"?"रू":r.currency==="INR"?"₹":"$"}${r.price}`:r.price,r.pricePeriod]}),e.jsx("td",{className:"py-3 px-3",children:e.jsxs("select",{value:r.isActive!==!1?"active":"inactive",onChange:async U=>{const D=U.target.value==="active";try{await L(r.id,{...r,isActive:D}),await y()}catch{alert("Error updating plan status")}},className:`p-1 text-xs rounded cursor-pointer ${r.isActive!==!1?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,"aria-label":`Change status for ${r.name}`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsxs("td",{className:"py-3 px-3 text-right",children:[e.jsx("button",{onClick:()=>N(r),className:"material-icons-outlined p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",title:"Edit plan","aria-label":`Edit ${r.name}`,children:"edit"}),e.jsx("button",{onClick:()=>P(r),className:"material-icons-outlined p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete plan","aria-label":`Delete ${r.name}`,children:"delete"})]})]},r.id))})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Display Order Information"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:'Plans are displayed on the homepage in ascending order based on the "Order" number. Lower numbers appear first. Plans without an order number will appear at the end.'})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-inherit",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Payment Information"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Track payment confirmations and user subscriptions by Gmail ID."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"border-b border-inherit text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 font-semibold",children:"SN"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Gmail ID"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Transaction ID"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Plan"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Status"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Date"})]})}),e.jsx("tbody",{className:"text-sm",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-6",children:e.jsx("div",{className:"spinner mx-auto"})})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No payment history found"})}):f.map((r,v)=>e.jsxs("tr",{className:"border-b border-inherit last:border-b-0",children:[e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:v+1}),e.jsx("td",{className:"py-3 px-3 font-medium",children:r.gmailId}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:r.transactionId}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:r.plan}),e.jsx("td",{className:"py-3 px-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${r.status==="Success"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r.status==="Pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}`,children:r.status})}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:new Date(r.timestamp).toLocaleDateString()})]},r.id||v))})]})})]}),g&&e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0",onClick:S}),e.jsx("div",{className:"relative z-10",children:e.jsx(ie,{plan:d,onSave:C,onCancel:S,isSubmitting:p})})]})]})},de=({notification:i,onSave:u,onCancel:h,isSubmitting:b})=>{const[a,g]=n.useState({title:"",description:"",priority:"Medium",category:"Info",actionUrl:"",actionText:"",isNew:!0,timestamp:new Date().toISOString(),...i}),[t,p]=n.useState({});n.useEffect(()=>{const c={title:"",description:"",priority:"Medium",category:"Info",actionUrl:"",actionText:"",isNew:!0,timestamp:new Date().toISOString(),...i};g(c),p({})},[i]);const s=c=>{const{name:l,value:o}=c.target;g(y=>({...y,[l]:o})),t[l]&&p(y=>({...y,[l]:""}))},d=()=>{var l,o;const c={};return(l=a.title)!=null&&l.trim()||(c.title="Notification title is required"),(o=a.description)!=null&&o.trim()||(c.description="Notification description is required"),a.actionUrl&&!a.actionUrl.match(/^https?:\/\/.+/)&&(c.actionUrl="Invalid URL format"),p(c),Object.keys(c).length===0},x=c=>{c.preventDefault(),d()&&u(a)},f=()=>{g({title:"",description:"",priority:"Medium",category:"Info",actionUrl:"",actionText:"",isNew:!0,timestamp:new Date().toISOString(),...i}),p({})};return e.jsx("div",{className:"card w-full max-w-2xl",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i!=null&&i.id?"Edit Notification":"Add New Notification"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"notification-title",className:"block text-sm font-medium mb-1",children:"Title *"}),e.jsx("input",{id:"notification-title",type:"text",name:"title",value:a.title,onChange:s,className:`w-full p-2 border rounded ${t.title?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.title?"notification-title-error":void 0}),t.title&&e.jsx("p",{id:"notification-title-error",className:"text-xs text-red-500 mt-1",children:t.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"notification-description",className:"block text-sm font-medium mb-1",children:"Description *"}),e.jsx("textarea",{id:"notification-description",name:"description",value:a.description,onChange:s,className:`w-full p-2 border rounded h-24 resize-none ${t.description?"border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,"aria-describedby":t.description?"notification-description-error":void 0}),t.description&&e.jsx("p",{id:"notification-description-error",className:"text-xs text-red-500 mt-1",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notification-priority",className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{id:"notification-priority",name:"priority",value:a.priority,onChange:s,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded",children:[e.jsx("option",{children:"Low"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notification-category",className:"block text-sm font-medium mb-1",children:"Category"}),e.jsxs("select",{id:"notification-category",name:"category",value:a.category,onChange:s,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded",children:[e.jsx("option",{children:"Info"}),e.jsx("option",{children:"Update"}),e.jsx("option",{children:"Alert"}),e.jsx("option",{children:"System"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notification-action-url",className:"block text-sm font-medium mb-1",children:"Action URL (Optional)"}),e.jsx("input",{id:"notification-action-url",type:"url",name:"actionUrl",value:a.actionUrl,onChange:s,placeholder:"https://...",className:`w-full p-2 border rounded ${t.actionUrl?"border-red-500":"border-gray-300 dark:border-gray-600"}`,"aria-describedby":t.actionUrl?"notification-action-url-error":void 0}),t.actionUrl&&e.jsx("p",{id:"notification-action-url-error",className:"text-xs text-red-500 mt-1",children:t.actionUrl})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notification-action-text",className:"block text-sm font-medium mb-1",children:"Action Text (Optional)"}),e.jsx("input",{id:"notification-action-text",type:"text",name:"actionText",value:a.actionText,onChange:s,placeholder:"e.g., View Details",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 flex justify-between items-center rounded-b-xl",children:[e.jsx("button",{type:"button",onClick:f,className:"btn btn-secondary",disabled:b,title:"Reset form to initial values",children:"Reset"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",disabled:b,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner w-4 h-4 mr-2"}),"Saving..."]}):"Save Notification"})]})]})]})})},ce=({setModal:i,refreshNotifications:u})=>{const[h,b]=n.useState([]),[a,g]=n.useState(!0),[t,p]=n.useState(!1),[s,d]=n.useState(!1),[x,f]=n.useState(null),c=async()=>{g(!0);try{const m=await _();b(m)}catch(m){console.error(m)}finally{g(!1)}};n.useEffect(()=>{c()},[]);const l=()=>{f({}),p(!0)},o=m=>{f(m),p(!0)},y=()=>{p(!1),f(null)},k=async m=>{d(!0);try{x!=null&&x.id?await Q(x.id,m):await W(m),await c(),u&&u()}catch(w){alert(`Error: ${w.message}`)}finally{d(!1),y()}},j=m=>{i({type:"confirmation",props:{title:"Delete Notification",message:`Are you sure you want to delete the notification <strong>${m.title}</strong>? This action cannot be undone.`,onConfirm:async()=>{try{await G(m.id),await c(),u&&u()}catch(w){alert(`Error: ${w.message}`)}i({type:null,props:{}})}}})},[N,S]=n.useState(""),[C,P]=n.useState(""),[r,v]=n.useState("Medium"),[U,D]=n.useState("Info"),[A,I]=n.useState(""),[T,$]=n.useState(""),[E,F]=n.useState(null),R=async m=>{m.preventDefault(),d(!0),F(null);try{const w={title:N,message:C,description:C,priority:r,category:U,...A&&{actionUrl:A},...T&&{actionText:T}};await V(w),u&&u(),window.showToast&&window.showToast({type:"success",title:"Notification Sent",message:"Notification has been sent to all users successfully!",duration:3e3}),F({type:"success",text:"Notification sent successfully to all users!"}),S(""),P(""),v("Medium"),D("Info"),I(""),$("")}catch{F({type:"error",text:"Failed to send notification."})}finally{d(!1)}},M={Low:"text-green-600",Medium:"text-yellow-600",High:"text-red-600"},O={System:"settings",Update:"update",Alert:"warning",Info:"info"};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Manage Notifications"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add, edit, or delete notifications and broadcast to users."})]}),e.jsxs("button",{onClick:l,className:"btn btn-primary",children:[e.jsx("span",{className:"material-icons-outlined",children:"add"})," New Notification"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",role:"table","aria-label":"Notifications management table",children:[e.jsx("thead",{className:"border-b border-inherit text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"SN"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Title"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Priority"}),e.jsx("th",{className:"py-2 px-3 font-semibold",scope:"col",children:"Category"}),e.jsx("th",{className:"py-2 px-3 font-semibold text-right",scope:"col",children:"Actions"})]})}),e.jsx("tbody",{className:"text-sm",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6",children:e.jsx("div",{className:"spinner mx-auto","aria-label":"Loading notifications"})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No notifications found"})}):h.map((m,w)=>e.jsxs("tr",{className:"border-b border-inherit last:border-b-0 hover:bg-gray-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:w+1}),e.jsx("td",{className:"py-3 px-3 font-medium",children:m.title}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:m.priority}),e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:m.category}),e.jsxs("td",{className:"py-3 px-3 text-right",children:[e.jsx("button",{onClick:()=>o(m),className:"material-icons-outlined p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded",title:"Edit notification","aria-label":`Edit ${m.title}`,children:"edit"}),e.jsx("button",{onClick:()=>j(m),className:"material-icons-outlined p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",title:"Delete notification","aria-label":`Delete ${m.title}`,children:"delete"})]})]},m.id))})]})}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-inherit",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Broadcast Notification"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Send a notification to all active users with enhanced features."}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",value:N,onChange:m=>S(m.target.value),placeholder:"e.g., New Feature Alert!",className:"w-full p-2",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Message"}),e.jsx("textarea",{value:C,onChange:m=>P(m.target.value),placeholder:"Describe the update or announcement...",className:"w-full p-2 h-24",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),e.jsxs("select",{value:r,onChange:m=>v(m.target.value),className:"w-full p-2",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsxs("select",{value:U,onChange:m=>D(m.target.value),className:"w-full p-2",children:[e.jsx("option",{value:"Info",children:"Info"}),e.jsx("option",{value:"Update",children:"Update"}),e.jsx("option",{value:"Alert",children:"Alert"}),e.jsx("option",{value:"System",children:"System"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Action URL (Optional)"}),e.jsx("input",{type:"url",value:A,onChange:m=>I(m.target.value),placeholder:"https://...",className:"w-full p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Action Text (Optional)"}),e.jsx("input",{type:"text",value:T,onChange:m=>$(m.target.value),placeholder:"e.g., View Details",className:"w-full p-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Preview:"}),e.jsx("span",{className:`material-icons-outlined text-sm ${M[r]}`,children:"priority_high"}),e.jsx("span",{className:"material-icons-outlined text-sm",children:O[U]}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:N||"Notification Title"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Sending...":"Send Notification"}),E&&e.jsx("p",{className:`text-sm mt-2 ${E.type==="success"?"text-green-600":"text-red-600"}`,children:E.text})]})]}),t&&e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0",onClick:y}),e.jsx("div",{className:"relative z-10",children:e.jsx(de,{notification:x,onSave:k,onCancel:y,isSubmitting:s})})]})]})},oe=({setModal:i,user:u})=>{const[h,b]=n.useState({whatsapp:"https://wa.me/9827792360",youtube:"https://youtube.com/@margeitpro",facebook:"https://facebook.com/margeitpro"}),[a,g]=n.useState(!1),[t,p]=n.useState(!1),s=async()=>{p(!0);try{console.log("Saving social links:",h),g(!1)}catch(d){console.error("Error saving social links:",d)}finally{p(!1)}};return u.role!=="Admin"?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-icons-outlined text-6xl text-gray-400 mb-4",children:"admin_panel_settings"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2",children:"Admin Access Required"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500",children:"Only administrators can manage social links."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Manage Social Links"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Update social media links displayed in header and sidebar."})]}),e.jsxs("button",{onClick:()=>g(!a),className:"btn btn-primary",children:[e.jsx("span",{className:"material-icons-outlined",children:a?"close":"edit"}),a?"Cancel":"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"WhatsApp Link"}),a?e.jsx("input",{type:"url",value:h.whatsapp,onChange:d=>b({...h,whatsapp:d.target.value}),className:"w-full p-2 border rounded",placeholder:"https://wa.me/..."}):e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-slate-800 rounded",children:[e.jsx("span",{className:"material-icons-outlined text-green-600",children:"chat"}),e.jsx("a",{href:h.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:h.whatsapp})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"YouTube Link"}),a?e.jsx("input",{type:"url",value:h.youtube,onChange:d=>b({...h,youtube:d.target.value}),className:"w-full p-2 border rounded",placeholder:"https://youtube.com/..."}):e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-slate-800 rounded",children:[e.jsx("span",{className:"material-icons-outlined text-red-600",children:"play_circle"}),e.jsx("a",{href:h.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:h.youtube})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Facebook Link"}),a?e.jsx("input",{type:"url",value:h.facebook,onChange:d=>b({...h,facebook:d.target.value}),className:"w-full p-2 border rounded",placeholder:"https://facebook.com/..."}):e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-slate-800 rounded",children:[e.jsx("span",{className:"material-icons-outlined text-blue-600",children:"facebook"}),e.jsx("a",{href:h.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:h.facebook})]})]})]}),a&&e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"btn btn-secondary",disabled:t,children:"Cancel"}),e.jsx("button",{onClick:s,className:"btn btn-primary",disabled:t,children:t?"Saving...":"Save Changes"})]})]})},me=({setModal:i})=>{const[u,h]=n.useState([]),[b,a]=n.useState(!0),g=async()=>{a(!0);try{const s=await z();h(s)}catch(s){console.error(s)}finally{a(!1)}};n.useEffect(()=>{g()},[]);const t=async(s,d,x)=>{i({type:"progress",props:{title:"Updating...",message:"Saving changes."}});try{s.id&&(await H(s,s.id,{[d]:x}),await g())}catch(f){alert(`Error updating user: ${f.message}`)}i({type:null,props:{}})},p=async(s,d,x)=>{const f=Array.isArray(s.accessPage)?s.accessPage:(s.accessPage||"").split(",").map(l=>l.trim()).filter(Boolean),c=x?[...f,d]:f.filter(l=>l!==d);await t(s,"accessPage",c.join(","))};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Manage User Roles & Permissions"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Quickly adjust user roles and access rights."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"border-b border-inherit text-gray-500 dark:text-gray-400 text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-3 font-semibold",children:"SN"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"User"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Role"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Pro Access"}),e.jsx("th",{className:"py-2 px-3 font-semibold",children:"Accessible Pages"})]})}),e.jsx("tbody",{className:"text-sm",children:b?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-6",children:e.jsx("div",{className:"spinner mx-auto"})})}):u.map((s,d)=>e.jsxs("tr",{className:"border-b border-inherit last:border-b-0",children:[e.jsx("td",{className:"py-3 px-3 text-gray-500 dark:text-gray-400",children:d+1}),e.jsxs("td",{className:"py-3 px-3 font-medium",children:[s.name,e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.email})]}),e.jsx("td",{className:"py-3 px-3",children:e.jsxs("select",{value:s.role,onChange:x=>t(s,"role",x.target.value),className:"p-1 text-sm",children:[e.jsx("option",{children:"User"}),e.jsx("option",{children:"Admin"})]})}),e.jsx("td",{className:"py-3 px-3",children:e.jsx("input",{type:"checkbox",checked:!!s.hasProAccess,onChange:x=>t(s,"hasProAccess",x.target.checked),className:"h-4 w-4"})}),e.jsx("td",{className:"py-3 px-3",children:e.jsxs("details",{children:[e.jsxs("summary",{className:"cursor-pointer text-blue-600 hover:underline",children:["View/Edit (",Array.isArray(s.accessPage)?s.accessPage.length:s.accessPage.split(",").length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-48 overflow-y-auto p-2 border border-inherit rounded-md bg-gray-50 dark:bg-slate-800",children:se.map(x=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:(Array.isArray(s.accessPage)?s.accessPage:s.accessPage.split(",")).includes(x.id),onChange:f=>p(s,x.id,f.target.checked),className:"h-4 w-4"}),x.label]},x.id))})]})})]},s.email))})]})})]})},be=({setModal:i,theme:u,refreshNotifications:h,user:b})=>{const[a,g]=n.useState("templates"),t=[{id:"templates",label:"Templates",icon:"description"},{id:"billing",label:"Billing Plans",icon:"credit_card"},{id:"notifications",label:"Notifications",icon:"campaign"},{id:"roles",label:"User Roles",icon:"manage_accounts"},{id:"social",label:"Social Links",icon:"share"}],p=()=>{switch(a){case"templates":return e.jsx(le,{setModal:i,theme:u});case"billing":return e.jsx(ne,{setModal:i,theme:u});case"notifications":return e.jsx(ce,{setModal:i,theme:u,refreshNotifications:h});case"roles":return e.jsx(me,{setModal:i,theme:u});case"social":return e.jsx(oe,{setModal:i,theme:u,user:b});default:return null}};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx("span",{className:"material-icons-outlined text-blue-600 dark:text-blue-500",children:"dynamic_form"}),"Form Management"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1 text-base",children:"Central hub for managing templates, billing, and other system forms."})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6 overflow-x-auto",children:t.map(s=>e.jsxs("button",{onClick:()=>g(s.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${a===s.id?"border-blue-500 text-blue-600 dark:text-blue-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"material-icons-outlined text-base",children:s.icon}),s.label]},s.id))})}),e.jsx("div",{className:"p-6",children:p()})]})]})};export{be as default};
